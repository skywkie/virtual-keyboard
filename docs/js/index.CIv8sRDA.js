(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();const g=[];for(let s=1;s<10;s++)g.push(s.toString());const h=["`",...g,"0","-","+","backspace"],p=["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","я","ч","с","м","и","т","ь","б","ю"],m=(s,t,e)=>{const o=s.split("");return o.splice(t,0,e),o.join("")},f=(s,t)=>s.substring(0,t-1)+s.substring(t),b=s=>p.includes(s);class y{keyboardContainer;inputField;userLanguage;languages={enKeys:[h,["tab","q","w","e","r","t","y","u","i","o","p","[","]","del"],["caps","a","s","d","f","g","h","j","k","l",";","'","enter"],["shift","z","x","c","v","b","n","m",",",".","?","shift"],["language","space"]],ruKeys:[h,["tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","del"],["caps","ф","ы","в","а","п","р","о","л","д","ж","э","enter"],["shift","я","ч","с","м","и","т","ь","б","ю","?","shift"],["language","space"]]};isShiftPressed=!1;isCapsPressed=!1;constructor(t,e){this.keyboardContainer=document.getElementById(t),this.inputField=document.getElementById(e),this.userLanguage=navigator.language}init(){this.renderKeyboard(this.isShiftPressed,this.isShiftPressed,-1)}renderKeyboard(t=!1,e=!1,o){const r=document.createElement("div");r.id="keyboard";const n=document.createDocumentFragment();(this.userLanguage==="ru-RU"?this.languages.ruKeys:this.languages.enKeys).forEach(a=>{const l=document.createElement("div");l.className="keyboard_row",a.forEach(i=>{const c=document.createElement("button");(t||e)&&b(i)?c.innerText=i.toUpperCase():c.innerText=i,c.classList=`key_row_element ${i}`,(i==="shift"&&t||i==="caps"&&e)&&c.classList.add("pressed"),c.onclick=()=>this.handleClick(i),l.appendChild(c)}),n.appendChild(l)}),r.appendChild(n),this.keyboardContainer.appendChild(r),this.inputField.setSelectionRange(o,o)}reRenderKeyboard(t,e,o){this.closeKeyboard(),this.renderKeyboard(t,e,o)}closeKeyboard(){document.getElementById("keyboard").remove()}handleClick(t){const e=this.inputField.value.length,o=()=>{this.isShiftPressed=!this.isShiftPressed,this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,e)},r=()=>{this.isCapsPressed=!this.isCapsPressed,this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,e)},n=()=>{this.userLanguage==="ru-RU"?this.userLanguage="en-EN":this.userLanguage="ru-RU",this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,e)},d=()=>{this.inputField.value=f(this.inputField.value,e),this.inputField.setSelectionRange(e-1,e-1)},a=l=>{this.inputField.value=m(this.inputField.value,e,l),this.inputField.setSelectionRange(e+1,e+1)};switch(t){case"backspace":d();break;case"tab":a("	");break;case"del":this.inputField.value="";break;case"enter":a(`
`);break;case"caps":r();break;case"shift":o();break;case"language":n();break;case"space":a(" ");break;default:if(this.isShiftPressed){o(),a(t.toUpperCase());break}if(this.isCapsPressed){a(t.toUpperCase());break}a(t);break}}}const k=s=>{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark_mode":"light_mode";return document.body.className=e,{userTheme:e,toggleTheme:()=>{e==="dark_mode"?e="light_mode":e="dark_mode",e==="dark_mode"?document.body.className="dark_mode":document.body.className="light_mode"}}},v=s=>{const t=document.getElementById(s);if(t){const{toggleTheme:e}=k();return t.onclick=()=>e(),t}},C=(s,t)=>{const e=document.createElement("dialog"),o=document.createElement("p");return e.className="message_dialog",e.style.animationDuration=`${t/1e3}s`,o.textContent=s,e.appendChild(o),setTimeout(()=>{e.remove()},t),e},S=document.querySelector(".wrapper"),w=new y("keyboard_container","input_field"),u=document.getElementById("input_field"),T=document.querySelector(".clipboard"),K=document.querySelector(".paste");v("toggle_theme_button");window.addEventListener("DOMContentLoaded",()=>{w.init()});T.onclick=()=>{navigator.clipboard.writeText(u.value);const s=document.querySelector(".message_dialog");s&&s.remove();const t=C("Text has copied to clipboard",6e3);S.appendChild(t),t.show()};K.onclick=async()=>{const s=await navigator.clipboard.readText();u.value=m(u.value,-1,s)};
