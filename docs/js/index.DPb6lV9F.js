(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const m=[];for(let s=1;s<10;s++)m.push(s.toString());const g=["`",...m,"0","-","+","backspace"],b=["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","я","ч","с","м","и","т","ь","б","ю"],p=(s,e,t)=>{const n=s.split("");return n.splice(e,0,t),n.join("")},f=(s,e)=>s.substring(0,e-1)+s.substring(e),y=s=>b.includes(s);class k{keyboardContainer;inputField;userLanguage;languages={enKeys:[g,["tab","q","w","e","r","t","y","u","i","o","p","[","]","del"],["caps","a","s","d","f","g","h","j","k","l",";","'","enter"],["shift","z","x","c","v","b","n","m",",",".","?","shift"],["language","space"]],ruKeys:[g,["tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","del"],["caps","ф","ы","в","а","п","р","о","л","д","ж","э","enter"],["shift","я","ч","с","м","и","т","ь","б","ю","?","shift"],["language","space"]]};isShiftPressed=!1;isCapsPressed=!1;constructor(e,t){this.keyboardContainer=document.getElementById(e),this.inputField=document.getElementById(t),this.userLanguage=navigator.language}init(){this.renderKeyboard(this.isShiftPressed,this.isShiftPressed,-1)}renderKeyboard(e=!1,t=!1,n=-1){const r=document.createElement("div");r.id="keyboard";const o=document.createDocumentFragment(),i=this.userLanguage==="ru-RU"?this.languages.ruKeys:this.languages.enKeys;let a=1;i.forEach(u=>{const h=document.createElement("div");h.className="keyboard_row",u.forEach(d=>{const c=document.createElement("button");(e||t)&&y(d)?c.innerText=d.toUpperCase():c.innerText=d,c.classList=`key_row_element ${d}`,(d==="shift"&&e||d==="caps"&&t)&&c.classList.add("pressed"),c.onclick=()=>this.handleClick(d),c.tabIndex=a,a++,h.appendChild(c)}),o.appendChild(h)}),r.appendChild(o),this.keyboardContainer.appendChild(r),this.inputField.setSelectionRange(n,n)}reRenderKeyboard(e,t,n){this.closeKeyboard(),this.renderKeyboard(e,t,n)}closeKeyboard(){document.getElementById("keyboard").remove()}handleClick(e){const t=this.inputField.selectionStart,n=()=>{this.isShiftPressed=!this.isShiftPressed,this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,t)},r=()=>{this.isCapsPressed=!this.isCapsPressed,this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,t)},o=()=>{this.userLanguage==="ru-RU"?this.userLanguage="en-EN":this.userLanguage="ru-RU",this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,t)},i=()=>{this.inputField.value=f(this.inputField.value,t),this.inputField.setSelectionRange(t-1,t-1)},a=u=>{this.inputField.value=p(this.inputField.value,t,u),this.inputField.setSelectionRange(t+1,t+1)};switch(e){case"backspace":i();break;case"tab":a("	");break;case"del":this.inputField.value="";break;case"enter":a(`
`);break;case"caps":r();break;case"shift":n();break;case"language":o();break;case"space":a(" ");break;default:if(this.isShiftPressed){n(),a(e.toUpperCase());break}if(this.isCapsPressed){a(e.toUpperCase());break}a(e);break}}}const S=s=>{let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark_mode":"light_mode";return document.body.className=t,{userTheme:t,toggleTheme:()=>{t==="dark_mode"?t="light_mode":t="dark_mode",t==="dark_mode"?document.body.className="dark_mode":document.body.className="light_mode"}}},v=s=>{const e=document.getElementById(s);if(e){const{toggleTheme:t}=S();return e.onclick=()=>t(),e}},C=(s,e)=>{const t=document.createElement("dialog"),n=document.createElement("p");return t.className="message_dialog",t.style.animationDuration=`${e/1e3}s`,n.textContent=s,t.appendChild(n),setTimeout(()=>{t.remove()},e),t},L=document.querySelector(".wrapper"),w=new k("keyboard_container","input_field"),l=document.getElementById("input_field"),P=document.querySelector(".clipboard"),T=document.querySelector(".paste");v("toggle_theme_button");window.addEventListener("DOMContentLoaded",()=>{w.init()});P.onclick=()=>{navigator.clipboard.writeText(l.value);const s=document.querySelector(".message_dialog");s&&s.remove();const e=C("Text has copied to clipboard",6e3);L.appendChild(e),e.show()};T.onclick=async()=>{const s=await navigator.clipboard.readText(),e=l.selectionStart;l.value=p(l.value,e,s),l.setSelectionRange(e+s.length,e+s.length)};
