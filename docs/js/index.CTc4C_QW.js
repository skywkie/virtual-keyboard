(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const g=[];for(let s=1;s<10;s++)g.push(s.toString());const h=["`",...g,"0","-","+","backspace"],p=["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","я","ч","с","м","и","т","ь","б","ю"],m=(s,e,t)=>{const o=s.split("");return o.splice(e,0,t),o.join("")},f=(s,e)=>s.substring(0,e-1)+s.substring(e),b=s=>p.includes(s);class y{keyboardContainer;inputField;userLanguage;languages={enKeys:[h,["tab","q","w","e","r","t","y","u","i","o","p","[","]","del"],["caps","a","s","d","f","g","h","j","k","l",";","'","enter"],["shift","z","x","c","v","b","n","m",",",".","?","shift"],["language","space"]],ruKeys:[h,["tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","del"],["caps","ф","ы","в","а","п","р","о","л","д","ж","э","enter"],["shift","я","ч","с","м","и","т","ь","б","ю","?","shift"],["language","space"]]};isShiftPressed=!1;isCapsPressed=!1;constructor(e,t){this.keyboardContainer=document.getElementById(e),this.inputField=document.getElementById(t),this.userLanguage=navigator.language}init(){this.renderKeyboard(this.isShiftPressed,this.isShiftPressed,-1)}renderKeyboard(e=!1,t=!1,o=-1){const r=document.createElement("div");r.id="keyboard";const n=document.createDocumentFragment();(this.userLanguage==="ru-RU"?this.languages.ruKeys:this.languages.enKeys).forEach(a=>{const l=document.createElement("div");l.className="keyboard_row",a.forEach(i=>{const c=document.createElement("button");(e||t)&&b(i)?c.innerText=i.toUpperCase():c.innerText=i,c.classList=`key_row_element ${i}`,(i==="shift"&&e||i==="caps"&&t)&&c.classList.add("pressed"),c.onclick=()=>this.handleClick(i),l.appendChild(c)}),n.appendChild(l)}),r.appendChild(n),this.keyboardContainer.appendChild(r),this.inputField.setSelectionRange(o,o)}reRenderKeyboard(e,t,o){this.closeKeyboard(),this.renderKeyboard(e,t,o)}closeKeyboard(){document.getElementById("keyboard").remove()}handleClick(e){const t=this.inputField.selectionStart,o=()=>{this.isShiftPressed=!this.isShiftPressed,this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,t)},r=()=>{this.isCapsPressed=!this.isCapsPressed,this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,t)},n=()=>{this.userLanguage==="ru-RU"?this.userLanguage="en-EN":this.userLanguage="ru-RU",this.reRenderKeyboard(this.isShiftPressed,this.isCapsPressed,t)},d=()=>{this.inputField.value=f(this.inputField.value,t),this.inputField.setSelectionRange(t-1,t-1)},a=l=>{this.inputField.value=m(this.inputField.value,t,l),this.inputField.setSelectionRange(t+1,t+1)};switch(e){case"backspace":d();break;case"tab":a("	");break;case"del":this.inputField.value="";break;case"enter":a(`
`);break;case"caps":r();break;case"shift":o();break;case"language":n();break;case"space":a(" ");break;default:if(this.isShiftPressed){o(),a(e.toUpperCase());break}if(this.isCapsPressed){a(e.toUpperCase());break}a(e);break}}}const k=s=>{let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark_mode":"light_mode";return document.body.className=t,{userTheme:t,toggleTheme:()=>{t==="dark_mode"?t="light_mode":t="dark_mode",t==="dark_mode"?document.body.className="dark_mode":document.body.className="light_mode"}}},S=s=>{const e=document.getElementById(s);if(e){const{toggleTheme:t}=k();return e.onclick=()=>t(),e}},v=(s,e)=>{const t=document.createElement("dialog"),o=document.createElement("p");return t.className="message_dialog",t.style.animationDuration=`${e/1e3}s`,o.textContent=s,t.appendChild(o),setTimeout(()=>{t.remove()},e),t},C=document.querySelector(".wrapper"),L=new y("keyboard_container","input_field"),u=document.getElementById("input_field"),w=document.querySelector(".clipboard"),P=document.querySelector(".paste");S("toggle_theme_button");window.addEventListener("DOMContentLoaded",()=>{L.init()});w.onclick=()=>{navigator.clipboard.writeText(u.value);const s=document.querySelector(".message_dialog");s&&s.remove();const e=v("Text has copied to clipboard",6e3);C.appendChild(e),e.show()};P.onclick=async()=>{const s=await navigator.clipboard.readText(),e=u.selectionStart;u.value=m(u.value,e,s),u.setSelectionRange(e+s.length,e+s.length)};
